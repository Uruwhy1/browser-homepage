"use strict";const definedWallpapers=[{name:"Beach",path:"./assets/wallpapers/beach.jpg",isActive:!1,mode:"none"},{name:"Clouds",path:"./assets/wallpapers/clouds.jpg",isActive:!1,mode:"none"},{name:"Evening Sky",path:"./assets/wallpapers/evening-sky.jpg",isActive:!1,mode:"none"},{name:"Night Sky",path:"./assets/wallpapers/night-sky.jpg",isActive:!1,mode:"none"},{name:"Room Day",path:"./assets/wallpapers/room-day.jpg",isActive:!0,mode:"light"},{name:"Room Night",path:"./assets/wallpapers/room-night.jpg",isActive:!0,mode:"none"},{name:"Space",path:"./assets/wallpapers/space.jpg",isActive:!1,mode:"none"}];function loadWallpaperSettings(){const e=localStorage.getItem("wallpapers");if(!e)return saveWallpapers(definedWallpapers),definedWallpapers;try{const t=JSON.parse(e);return definedWallpapers.map((e=>{const n=t.find((t=>t.name===e.name));return n?{...e,isActive:n.isActive??e.isActive,mode:n.mode??e.mode}:e}))}catch{return definedWallpapers}}let wallpapers=loadWallpaperSettings();function saveWallpapers(e){const t=e.map((({name:e,isActive:t,mode:n})=>({name:e,isActive:t,mode:n})));localStorage.setItem("wallpapers",JSON.stringify(t))}function initializeWallpaperSettings(){applyActiveWallpapers(),displayWallpapersInSettings()}function displayWallpapersInSettings(){const e=document.getElementById("wallpaper-container");e&&(e.innerHTML="",wallpapers.forEach(((t,n)=>{const o=document.createElement("div");o.classList.add("wallpaper-item","individual-setting");const a=document.createElement("div");a.classList.add("wallpaper-preview");const s=document.createElement("img");s.src=t.path,s.alt=t.name,s.onerror=()=>s.alt="Image not found",a.appendChild(s);const r=document.createElement("div");r.classList.add("wallpaper-details");const i=document.createElement("h4");i.textContent=t.name,r.append(i);const d=document.createElement("div");d.classList.add("wallpaper-actions");const l=document.createElement("button");l.textContent=isWallpaperActiveForMode(t,"light")?"Light ✅":"Light",l.classList.add("light-btn"),l.addEventListener("click",(()=>setWallpaperForMode(n,"light")));const c=document.createElement("button");c.textContent=isWallpaperActiveForMode(t,"dark")?"Dark ✅":"Dark",c.classList.add("dark-btn"),c.addEventListener("click",(()=>setWallpaperForMode(n,"dark"))),d.append(l,c),o.append(a,r,d),e.appendChild(o)})))}function isWallpaperActiveForMode(e,t){return e.isActive&&(e.mode===t||"both"===e.mode)}function setWallpaperForMode(e,t){const n=wallpapers[e];wallpapers.forEach((e=>{e.name!==n.name&&(!e.isActive||e.mode!==t&&"both"!==e.mode||("both"===e.mode?e.mode="light"===t?"dark":"light":(e.mode="none",e.isActive=!1)))})),n.isActive=!0,"none"===n.mode?n.mode=t:n.mode!==t&&(n.mode="both"),saveWallpapers(wallpapers),displayWallpapersInSettings(),applyActiveWallpapers()}function applyActiveWallpapers(){const e=wallpapers.find((e=>e.isActive&&("light"===e.mode||"both"===e.mode))),t=wallpapers.find((e=>e.isActive&&("dark"===e.mode||"both"===e.mode)));e&&document.documentElement.style.setProperty("--bg-image-light",`url("${e.path}")`),t&&document.documentElement.style.setProperty("--bg-image-dark",`url("${t.path}")`)}document.addEventListener("DOMContentLoaded",initializeWallpaperSettings);let bookmarks=(()=>{const e=localStorage.getItem("bookmarks");if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}})();function setupBookmarks(){const e=document.getElementById("bookmark-container");e&&(e.innerHTML=""),bookmarks.map((t=>{const n=document.createElement("div");n.classList.add("bookmark-set"),n.style.order=`${t.number}`;const o=document.createElement("div");o.classList.add("bookmark-title"),o.textContent=t.title,t.hide&&(n.style.display="none",console.log("%cHIDDEN LINKS:","color: red; font-size: x-large"),t.links.map((e=>{console.log(e.name,e.keywords)})));const a=document.createElement("div");a.classList.add("bookmark-inner-container"),t.links.map((e=>{const t=document.createElement("a");if(t.classList.add("bookmark"),t.href=e.url,t.textContent=e.name,e.keywords&&t.setAttribute("data-keywords",e.keywords.join(" ")),e.hide&&(t.style.display="none"),a.appendChild(t),e.divide){const e=document.createElement("span");e.classList.add("divider"),a.appendChild(e)}})),n.appendChild(o),n.appendChild(a),e&&e.appendChild(n),t.color&&n.style.setProperty("--accent-container",t.color)}))}function saveBookmarks(){localStorage.setItem("bookmarks",JSON.stringify(bookmarks))}function initializeBookmarksSettings(){const e=document.getElementById("add-bookmark");e&&e.addEventListener("click",addBookmark),displayBookmarksInSettings()}function addBookmark(){createForm({"Bookmark Set Title":"",Color:["#fff","color"],"Hide Bookmark Set":[!1,"checkbox"]},(e=>{const t={title:e["Bookmark Set Title"],links:[],hide:e["Hide Bookmark Set"],color:e.Color,open:!1,number:bookmarks.length};bookmarks.push(t),saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}))}function removeBookmark(e){bookmarks.splice(e,1),saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}function editBookmarkSet(e){const t=bookmarks[e];createForm({"Bookmark Set Title":t.title,Color:[t.color,"color"],"Hide Bookmark Set":[t.hide,"checkbox"]},(n=>{bookmarks[e]={...t,title:n["Bookmark Set Title"],color:n.Color,hide:n["Hide Bookmark Set"]},saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}),["Remove",()=>{removeBookmark(e)}])}function displayBookmarksInSettings(){const e=document.getElementById("bookmarks-container");e.innerHTML="",bookmarks.sort(((e,t)=>e.number-t.number)),bookmarks.forEach(((t,n)=>{const o=document.createElement("div");o.classList.add("bookmark-set-settings"),o.classList.add("individual-setting"),o.draggable=!0,o.dataset.index=`${n}`,o.style.order=`${t.number}`;const a=document.createElement("div");a.classList.add("drop-indicator","top");const s=document.createElement("div");s.classList.add("drop-indicator","bottom"),o.appendChild(a),o.appendChild(s),t.color&&o.style.setProperty("--accent-container",t.color),t.open&&o.classList.add("displayed"),o.addEventListener("dragstart",(e=>{e.dataTransfer&&(e.dataTransfer.setData("text/plain",`${n}`),e.dataTransfer.effectAllowed="move"),o.classList.add("dragging");document.querySelectorAll(".drop-indicator").forEach((e=>{e.style.display="none"}))})),o.addEventListener("dragend",(()=>{o.classList.remove("dragging");document.querySelectorAll(".drop-indicator").forEach((e=>{e.style.display="none"}))}));const r=document.createElement("div");r.classList.add("set-title-container");const i=document.createElement("h4");i.textContent=t.title,i.addEventListener("click",(()=>{t.open=!t.open,saveBookmarks(),displayBookmarksInSettings()}));const d=document.createElement("button");d.innerHTML=t.hide?'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye-off"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>',d.classList.add("toggle-hide-set"),d.addEventListener("click",(()=>toggleBookmarkSetVisibility(n))),r.appendChild(i),r.appendChild(d),o.appendChild(r);const l=document.createElement("div");l.classList.add("bookmark-links-container"),l.dataset.bookmarkSetIndex=n.toString(),t.links.forEach(((e,t)=>{const o=document.createElement("div");o.classList.add("bookmark-link"),o.draggable=!0,o.dataset.linkIndex=t.toString();const a=document.createElement("div");a.classList.add("link-drop-indicator","top");const s=document.createElement("div");s.classList.add("link-drop-indicator","bottom"),o.appendChild(a),o.appendChild(s),o.addEventListener("dragstart",(e=>{e.stopPropagation(),e.dataTransfer?.setData("text/plain",JSON.stringify({bookmarkSetIndex:n,linkIndex:t})),o.classList.add("dragging");document.querySelectorAll(".link-drop-indicator").forEach((e=>{e.style.display="none"}))})),o.addEventListener("dragend",(()=>{o.classList.remove("dragging");document.querySelectorAll(".link-drop-indicator").forEach((e=>{e.style.display="none"}))}));const r=document.createElement("div");r.classList.add("link-title-container");const i=document.createElement("span");i.textContent=e.name;const d=document.createElement("button");d.innerHTML=e.hide?'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye-off"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>',d.classList.add("toggle-hide"),d.addEventListener("click",(()=>toggleLinkVisibility(n,t)));const c=document.createElement("button");c.innerHTML=e.divide?'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus"><line x1="5" y1="12" x2="19" y2="12"></line></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>',c.classList.add("toggle-divide"),c.addEventListener("click",(()=>toggleLinkDivide(n,t))),r.appendChild(i),r.appendChild(d),r.appendChild(c),o.appendChild(r);const m=document.createElement("button");m.textContent="Edit Link",m.addEventListener("click",(()=>editLink(n,t))),o.appendChild(m);const p=document.createElement("div");p.classList.add("keywords-container");const k=document.createElement("span");k.textContent=e.keywords?e.keywords.join(", "):"",p.appendChild(k);const u=document.createElement("button");u.textContent="Edit Keywords",u.classList.add("edit-keywords"),u.addEventListener("click",(()=>{const o=document.createElement("input");o.type="text",o.value=e.keywords?e.keywords.join(", "):"",o.classList.add("keywords-input");const a=document.createElement("button");a.textContent="Save",a.classList.add("save-keywords"),a.addEventListener("click",(()=>{const e=o.value.split(",").map((e=>e.trim())).filter((e=>e.length>0));bookmarks[n].links[t].keywords=e,saveBookmarks(),displayBookmarksInSettings()})),p.innerHTML="",p.appendChild(o),p.appendChild(a)})),p.appendChild(u),o.appendChild(p),l.appendChild(o)}));const c=document.createElement("div");c.classList.add("bookmark-actions");const m=document.createElement("button");m.textContent="Edit",m.classList.add("edit-set"),m.addEventListener("click",(()=>editBookmarkSet(n)));const p=document.createElement("button");p.textContent="Add Link",p.classList.add("add-link"),p.addEventListener("click",(()=>addLinkToBookmarkSet(n))),c.appendChild(m),c.appendChild(p),o.appendChild(c),o.appendChild(l),e.appendChild(o);let k=0;l.addEventListener("dragover",(e=>{e.preventDefault(),e.stopPropagation();const t=Date.now();if(t-k<50)return;k=t;const n=document.querySelector(".bookmark-link.dragging");if(!n)return;document.querySelectorAll(".link-drop-indicator").forEach((e=>{e.style.display="none"}));const o=getDragAfterLink(l,e.clientY);if(null==o){const e=l.lastElementChild;e&&!e.classList.contains("dragging")&&(e.querySelector(".link-drop-indicator.bottom").style.display="block")}else o.querySelector(".link-drop-indicator.top").style.display="block";null==o?l.appendChild(n):l.insertBefore(n,o)})),l.addEventListener("drop",(e=>{e.preventDefault(),e.stopPropagation(),document.querySelectorAll(".link-drop-indicator").forEach((e=>{e.style.display="none"}));const t=JSON.parse(e.dataTransfer.getData("text/plain")),{bookmarkSetIndex:n,linkIndex:o}=t,a=parseInt(l.dataset.bookmarkSetIndex);if(isNaN(n)||isNaN(o)||isNaN(a))return;const s=Array.from(l.querySelectorAll(".bookmark-link")).findIndex((e=>e.classList.contains("dragging")));if(-1===s)return;const r=bookmarks[n].links.splice(o,1)[0];bookmarks[a].links.splice(s,0,r),saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}))}));let t=0;e.addEventListener("dragover",(n=>{n.preventDefault();const o=Date.now();if(o-t<50)return;t=o;const a=document.querySelector(".dragging");if(!a)return;document.querySelectorAll(".drop-indicator").forEach((e=>{e.style.display="none"}));const s=getDragAfterElement(e,n.clientY);if(null==s){const t=e.lastElementChild;t&&!t.classList.contains("dragging")&&(t.querySelector(".drop-indicator.bottom").style.display="block")}else s.querySelector(".drop-indicator.top").style.display="block";null==s?e.appendChild(a):e.insertBefore(a,s)})),e.addEventListener("drop",(t=>{t.preventDefault(),document.querySelectorAll(".drop-indicator").forEach((e=>{e.style.display="none"}));const n=parseInt(t.dataTransfer?.getData("text/plain")||"");if(isNaN(n))return;if(!document.querySelector(".dragging"))return;Array.from(e.querySelectorAll(".bookmark-set-settings")).forEach(((e,t)=>{const n=parseInt(e.dataset.index);isNaN(n)||(bookmarks[n].number=t)})),saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}))}function getDragAfterElement(e,t){return Array.from(e.querySelectorAll(".bookmark-set-settings:not(.dragging)")).reduce(((e,n)=>{const o=n.getBoundingClientRect(),a=t-(o.top+o.height/2);return a<0&&a>e.offset?{offset:a,element:n}:e}),{offset:Number.NEGATIVE_INFINITY,element:null}).element}function addLinkToBookmarkSet(e){createForm({"Link Name":"",URL:["","url"],"Hide Link":[!1,"checkbox"],"Add Divider":[!1,"checkbox"],Keywords:["","text"]},(t=>{const n={name:t["Link Name"],url:t.URL,keywords:t.Keywords?t.Keywords.split(",").map((e=>e.trim())):[],hide:t["Hide Link"],divide:t["Add Divider"]};bookmarks[e].links.push(n),saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}))}function editLink(e,t){const n=bookmarks[e].links[t];createForm({"Link Name":n.name,URL:[n.url,"url"],"Hide Link":[n.hide||!1,"checkbox"],"Add Divider":[n.divide||!1,"checkbox"],Keywords:[n.keywords?n.keywords.join(", "):"","text"]},["Save Link",n=>{if(n["Link Name"]&&n.URL){const o={name:n["Link Name"],url:n.URL,hide:n["Hide Link"],divide:n["Add Divider"],keywords:n.Keywords?n.Keywords.split(",").map((e=>e.trim())).filter((e=>e.length>0)):[]};bookmarks[e].links[t]=o,saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}}],["Delete Link",()=>{confirm("Are you sure you want to delete this link?")&&(bookmarks[e].links.splice(t,1),saveBookmarks(),displayBookmarksInSettings(),setupBookmarks())}])}function toggleBookmarkSetVisibility(e){bookmarks[e].hide=!bookmarks[e].hide,saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}function toggleLinkVisibility(e,t){bookmarks[e].links[t].hide=!bookmarks[e].links[t].hide,saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}function toggleLinkDivide(e,t){bookmarks[e].links[t].divide=!bookmarks[e].links[t].divide,saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}function getDragAfterLink(e,t){return Array.from(e.querySelectorAll(".bookmark-link:not(.dragging)")).reduce(((e,n)=>{const o=n.getBoundingClientRect(),a=t-(o.top+o.height/2);return a<0&&a>e.offset?{offset:a,element:n}:e}),{offset:Number.NEGATIVE_INFINITY,element:null}).element}function createForm(e,t,n){const o=document.createElement("form");o.classList.add("dynamic-form");const a=document.createElement("div");a.classList.add("form-backdrop");const s=()=>{o.remove(),a.remove()};a.addEventListener("click",s);for(const[t,n]of Object.entries(e)){const e=document.createElement("div"),a=document.createElement("label");a.textContent=t;const s=document.createElement("input");Array.isArray(n)?(s.type=n[1],s.value=n[0].toString()):(s.type="text",s.value=n),s.name=t,e.appendChild(a),e.appendChild(s),o.appendChild(e)}const r=document.createElement("div"),i=document.createElement("button");i.classList.add("cancel-button"),i.textContent="Cancel",i.type="button",i.addEventListener("click",s);const d=document.createElement("button");if(d.type="submit",d.textContent=Array.isArray(t)?t[0]:"Save Changes",n){const e=document.createElement("button");e.classList.add("secondary-button"),e.type="button",Array.isArray(n)?(e.textContent=n[0],e.addEventListener("click",(()=>{n[1](),s()}))):(e.textContent="Secondary",e.addEventListener("click",(()=>{n(),s()}))),r.appendChild(e)}r.appendChild(i),r.appendChild(d),o.appendChild(r),o.addEventListener("submit",(n=>{n.preventDefault();const a={};for(const[t]of Object.entries(e)){const e=o.querySelector(`input[name="${t}"]`);e&&"checkbox"===e.type?a[t]=e.checked:a[t]=e.value}Array.isArray(t)?t[1](a):t(a),s()})),document.body.appendChild(a),document.body.appendChild(o)}function initializeSearchSettings(){displaySearchPrefixes()}function displaySearchPrefixes(){const e=document.getElementById("search-prefixes-container");e.innerHTML="";const t=localStorage.getItem("searchPrefixes"),n=t?JSON.parse(t):{},o=document.createElement("button");o.textContent="Add Prefix",o.classList.add("add-prefix"),o.addEventListener("click",addSearchPrefix),e.appendChild(o),Object.entries(n).forEach((([t,n])=>{const o=document.createElement("div");o.classList.add("prefix-display"),o.classList.add("individual-setting");const a=document.createElement("div");a.classList.add("prefix-text"),a.innerHTML=`<strong>-${t}:</strong>`;const s=document.createElement("div");s.classList.add("prefix-buttons");const r=document.createElement("button");r.textContent="Edit",r.classList.add("edit-prefix"),r.addEventListener("click",(()=>editSearchPrefix(t,n)));const i=document.createElement("button");i.textContent="Delete",i.classList.add("delete-prefix"),i.addEventListener("click",(()=>deleteSearchPrefix(t))),s.appendChild(r),s.appendChild(i),o.appendChild(a),o.appendChild(s),e.appendChild(o)}))}function addSearchPrefix(){createForm({Prefix:"","URL Template {query}":["","url"]},(e=>{const t=e.Prefix.toLowerCase().trim(),n=e["URL Template {query}"].trim();if(t&&n){const e=JSON.parse(localStorage.getItem("searchPrefixes")||"{}");e[t]=n,localStorage.setItem("searchPrefixes",JSON.stringify(e)),displaySearchPrefixes()}}))}function editSearchPrefix(e,t){createForm({Prefix:e,"URL Template {query}":[t,"url"]},(t=>{const n=t.Prefix.toLowerCase().trim(),o=t["URL Template {query}"].trim();if(n&&o){const t=JSON.parse(localStorage.getItem("searchPrefixes")||"{}");n!==e&&delete t[e],t[n]=o,localStorage.setItem("searchPrefixes",JSON.stringify(t)),displaySearchPrefixes()}}))}function deleteSearchPrefix(e){const t=JSON.parse(localStorage.getItem("searchPrefixes")||"{}");delete t[e],localStorage.setItem("searchPrefixes",JSON.stringify(t)),displaySearchPrefixes()}function openSettingsTab(){const e=document.querySelector(".settings");e instanceof HTMLElement&&e.classList.toggle("show")}function getTime(){const e=new Date,t=e.getMinutes(),n=e.getSeconds(),o=e.getHours();return(o<10?"0"+o:o)+":"+(t<10?"0"+t:t)+":"+(n<10?"0"+n:n)}saveBookmarks(),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".camera-container"),t=document.querySelector("#camera-icon"),n=document.getElementById("video");t&&t.addEventListener("click",(()=>{navigator.mediaDevices.getUserMedia({video:!0}).then((t=>{o=t,n&&(n.srcObject=t,n.style.animation="appear 1s 1 linear"),e&&setTimeout((()=>{e.style.display="grid"}),500)})).catch((e=>{console.error("Error accessing the camera: ",e)}))}));let o=null;document.addEventListener("click",(()=>{e&&"grid"==e.style.display&&(e.style.display="none",function(){if(o){o.getTracks().forEach((e=>e.stop())),o=null}}())}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.documentElement,t=document.querySelector(".coin-flip"),n=document.querySelector(".side-b"),o=document.querySelector(".side-a");function a(){const a=Math.random()<.5?"Heads":"Tails";n&&(n.style.animation="none"),o&&(o.style.animation="none"),t&&(t.style.animation="none"),function(a){setTimeout((()=>{n.style.animation="",o.style.animation="",s(t,!0),"Heads"==a?(n.style.zIndex="1",o.style.zIndex="0",n.style.animation="flipFront 3s 1 ease-in",o.style.animation="flipBack 3s 1 ease-in"):(o.style.zIndex="1",n.style.zIndex="0",o.style.animation="flipFront 3s 1 ease-in",n.style.animation="flipBack 3s 1 ease-in")}),10),setTimeout((()=>{"Heads"==a?e.style.setProperty("--coin-shadow","var(--green)"):e.style.setProperty("--coin-shadow","var(--red)")}),3010),setTimeout((()=>{t.style.animation="dissapear 0.2s linear forwards"}),4510),setTimeout((()=>{s(t,!1),e.style.setProperty("--coin-shadow","#fff")}),4710)}(a)}function s(e,t){e.style.display=t?"flex":"none",e.style.animation="appear 0.2s linear"}const r=document.getElementById("searchInput");document.addEventListener("keydown",(function(e){"Enter"===e.key&&r&&"flip"===r.value.toLowerCase()&&(a(),r.value="")}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("searchInput"),t=document.documentElement;let n=0,o=!1;const a=document.querySelector(".settings"),s=e=>{window.location.href=e},r=e=>{n=0,o=!1,t.style.setProperty("--bookmark-color",""),e.forEach((e=>{e.classList.remove("on"),e.style.color="",e.style.position="",e.style.bottom="",e.style.opacity=""}))};document.addEventListener("keydown",(function(i){if(a.classList.contains("show"))return;const d=document.querySelectorAll(".bookmark");if(i.altKey)return;const l="Enter"===i.key||"+"===i.key||"Backspace"===i.key||i.ctrlKey,c=/^[a-zA-Z0-9]$/.test(i.key);if(l||c){if(o=!1,i.preventDefault(),"Enter"===i.key){const t=(e=>{if(!e)return{type:"default",query:""};const t=e.match(/^-(\w+):\s*(.+)$/);if(t){const[e,n,o]=t;return{type:n.toLowerCase(),query:o.trim()}}return{type:"default",query:e.trim()}})(e.value),o=(()=>{const e=localStorage.getItem("searchPrefixes");return e?JSON.parse(e):""})();if("default"!==t.type){const e=o[t.type];if(e){const n=e.replace("{query}",encodeURIComponent(t.query));s(n)}return}{if(i.ctrlKey)return void s(`https://www.google.com/search?q=${encodeURIComponent(e.value)}`);if("flip"==e.value.toLowerCase()||"stopwatch"==e.value.toLowerCase())return void r(d);let t=!1;return d.forEach((o=>{const a=o.textContent?.toLowerCase();if(a&&a===e.value.toLowerCase()||o.classList.contains("on")&&1===n)return t=!0,e.style.animation="right 0.1s 1 forwards",void s(o.href);const r=o.getAttribute("data-keywords");return r&&r.toLowerCase().split(" ").includes(e.value.toLowerCase())?(t=!0,e.style.animation="right 0.1s 1 forwards",void s(o.href)):void 0})),t||(e.style.animation="wrong 1s 1"),void setTimeout((()=>e.style.animation=""),1e3)}}if(i.ctrlKey&&i.preventDefault(),"a"===i.key&&i.ctrlKey)return e.value="",o=!1,void r(d);if("Backspace"===i.key?(e.value=e.value.slice(0,-1),n=0):i.ctrlKey||(e.value+=i.key),document.activeElement!==e&&e.focus(),0===e.value.length&&r(d),n=0,document.querySelectorAll(".on").forEach((e=>e.style.color="")),e.value.length>0&&(t.style.setProperty("--bookmark-color","gray"),d.forEach((t=>{t.textContent&&t.textContent.toLowerCase().includes(e.value.toLowerCase())?(t.classList.add("on"),t.style.position="",t.style.bottom="",t.style.opacity="",n++):(t.classList.remove("on"),t.style.opacity="0.5");const a=t.getAttribute("data-keywords");a&&a.toLowerCase().split(" ").includes(e.value.toLowerCase())?(t.style.opacity="",t.style.color="var(--hover-color)",o=!0):t.style.color=""}))),!o&&1!==n&&document.querySelector(".on")){document.querySelector(".on").style.color=""}else if(1==n&&!o){document.querySelector(".on").style.color="var(--hover-color)"}}}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("settings-icon");e&&(e.addEventListener("click",openSettingsTab),document.addEventListener("keydown",(e=>{"Escape"===e.code&&openSettingsTab()})),initializeBookmarksSettings(),initializeSearchSettings(),initializeWallpaperSettings())})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("searchInput");let t;function n(e){t&&(clearInterval(t),t=void 0),e.style.animation="fadeOut 0.5s linear",setTimeout((()=>{e.remove()}),500)}document.addEventListener("keydown",(function(o){if("Enter"===o.key&&e&&"stopwatch"===e.value.toLowerCase())return function(){const e=document.getElementById("stopwatch");e&&n(e);const o=document.querySelector(".time-stuff-container"),a=document.createElement("div");a.id="stopwatch",a.classList.add("container-card"),a.setAttribute("tabindex","0");const s=document.createElement("p");if(a.appendChild(s),o){o.appendChild(a),a.addEventListener("click",(()=>{n(a)})),a.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n(a))}));const e=Date.now();t&&clearInterval(t),t=window.setInterval((()=>{const t=Date.now()-e,n=Math.floor(t/1e3%60),o=Math.floor(t/1e3/60%60),a=Math.floor(t/1e3/60/60);let r="";a>0&&(r+=`${a}h `),o>0&&(r+=`${o}m `),r+=`${n}s`,s.innerHTML=r}),1e3)}}(),void(e.value="")}))})),window.onload=()=>{setupBookmarks();let e=document.getElementById("clock");e&&(e.innerHTML=getTime(),setInterval((()=>{e.innerHTML=getTime()}),100))};