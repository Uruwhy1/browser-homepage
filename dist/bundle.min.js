let bookmarks=JSON.parse(localStorage.getItem("bookmarks"))||[];function setupBookmarks(){const e=document.getElementById("bookmark-container");e.innerHTML="",bookmarks.map((t=>{const o=document.createElement("div");o.classList.add("bookmark-set"),o.style.order=t.number;const n=document.createElement("div");n.classList.add("bookmark-title"),n.textContent=t.title,t.hide&&(o.style.display="none",console.log("%cHIDDEN LINKS:","color: red; font-size: x-large"),t.links.map((e=>{console.log(e.name,e.keywords)})));const a=document.createElement("div");a.classList.add("bookmark-inner-container"),t.links.map((e=>{const t=document.createElement("a");if(t.classList.add("bookmark"),t.href=e.url,t.textContent=e.name,e.keywords&&t.setAttribute("data-keywords",e.keywords.join(" ")),e.hide&&(t.style.display="none"),a.appendChild(t),e.divide){const e=document.createElement("span");e.classList.add("divider"),a.appendChild(e)}})),o.appendChild(n),o.appendChild(a),e.appendChild(o),t.color&&o.style.setProperty("--accent-container",t.color)}))}function saveBookmarks(){localStorage.setItem("bookmarks",JSON.stringify(bookmarks))}function initializeBookmarksSettings(){document.getElementById("add-bookmark").addEventListener("click",addBookmark),displayBookmarksInSettings()}function addBookmark(){createForm({"Bookmark Set Title":"",Color:["#fff","color"],"Hide Bookmark Set":[!1,"checkbox"]},(e=>{const t={title:e["Bookmark Set Title"],links:[],hide:e["Hide Bookmark Set"],color:e.Color,open:!1,number:bookmarks.length};bookmarks.push(t),saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}))}function removeBookmark(e){bookmarks.splice(e,1),saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}function editBookmarkSet(e){const t=bookmarks[e];createForm({"Bookmark Set Title":t.title,Color:[colours[t.color]||t.color,"color"],"Hide Bookmark Set":[t.hide,"checkbox"]},(o=>{bookmarks[e]={...t,title:o["Bookmark Set Title"],color:o.Color,hide:o["Hide Bookmark Set"]},saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}),["Remove",()=>{removeBookmark(e)}])}function displayBookmarksInSettings(){const e=document.getElementById("bookmarks-container");e.innerHTML="",bookmarks.sort(((e,t)=>e.number-t.number)),bookmarks.forEach(((t,o)=>{const n=document.createElement("div");n.classList.add("bookmark-set-settings"),n.classList.add("individual-setting"),n.draggable=!0,n.dataset.index=o,n.style.order=t.number;const a=document.createElement("div");a.classList.add("drop-indicator","top");const r=document.createElement("div");r.classList.add("drop-indicator","bottom"),n.appendChild(a),n.appendChild(r),t.color&&n.style.setProperty("--accent-container",t.color),t.open&&n.classList.add("displayed"),n.addEventListener("dragstart",(e=>{e.dataTransfer.setData("text/plain",o),e.dataTransfer.effectAllowed="move",n.classList.add("dragging"),document.querySelectorAll(".drop-indicator").forEach((e=>{e.style.display="none"}))})),n.addEventListener("dragend",(()=>{n.classList.remove("dragging"),document.querySelectorAll(".drop-indicator").forEach((e=>{e.style.display="none"}))}));const i=document.createElement("div");i.classList.add("set-title-container");const s=document.createElement("h4");s.textContent=t.title,s.addEventListener("click",(()=>{t.open=!t.open,saveBookmarks(),displayBookmarksInSettings()}));const d=document.createElement("button");d.innerHTML=t.hide?'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye-off"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>',d.classList.add("toggle-hide-set"),d.addEventListener("click",(()=>toggleBookmarkSetVisibility(o))),i.appendChild(s),i.appendChild(d),n.appendChild(i);const l=document.createElement("div");l.classList.add("bookmark-links-container"),l.dataset.bookmarkSetIndex=o,t.links.forEach(((e,t)=>{const n=document.createElement("div");n.classList.add("bookmark-link"),n.draggable=!0,n.dataset.linkIndex=t;const a=document.createElement("div");a.classList.add("link-drop-indicator","top");const r=document.createElement("div");r.classList.add("link-drop-indicator","bottom"),n.appendChild(a),n.appendChild(r),n.addEventListener("dragstart",(e=>{e.stopPropagation(),e.dataTransfer.setData("text/plain",JSON.stringify({bookmarkSetIndex:o,linkIndex:t})),n.classList.add("dragging"),document.querySelectorAll(".link-drop-indicator").forEach((e=>{e.style.display="none"}))})),n.addEventListener("dragend",(()=>{n.classList.remove("dragging"),document.querySelectorAll(".link-drop-indicator").forEach((e=>{e.style.display="none"}))}));const i=document.createElement("div");i.classList.add("link-title-container");const s=document.createElement("span");s.textContent=e.name;const d=document.createElement("button");d.innerHTML=e.hide?'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye-off"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>',d.classList.add("toggle-hide"),d.addEventListener("click",(()=>toggleLinkVisibility(o,t)));const c=document.createElement("button");c.innerHTML=e.divide?'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus"><line x1="5" y1="12" x2="19" y2="12"></line></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>',c.classList.add("toggle-divide"),c.addEventListener("click",(()=>toggleLinkDivide(o,t))),i.appendChild(s),i.appendChild(d),i.appendChild(c),n.appendChild(i);const m=document.createElement("button");m.textContent="Edit Link",m.addEventListener("click",(()=>editLink(o,t))),n.appendChild(m);const k=document.createElement("div");k.classList.add("keywords-container");const u=document.createElement("span");u.textContent=e.keywords?e.keywords.join(", "):"",k.appendChild(u);const f=document.createElement("button");f.textContent="Edit Keywords",f.classList.add("edit-keywords"),f.addEventListener("click",(()=>{const n=document.createElement("input");n.type="text",n.value=e.keywords?e.keywords.join(", "):"",n.classList.add("keywords-input");const a=document.createElement("button");a.textContent="Save",a.classList.add("save-keywords"),a.addEventListener("click",(()=>{const e=n.value.split(",").map((e=>e.trim())).filter((e=>e.length>0));bookmarks[o].links[t].keywords=e,saveBookmarks(),displayBookmarksInSettings()})),k.innerHTML="",k.appendChild(n),k.appendChild(a)})),k.appendChild(f),n.appendChild(k),l.appendChild(n)}));const c=document.createElement("div");c.classList.add("bookmark-actions");const m=document.createElement("button");m.textContent="Edit",m.classList.add("edit-set"),m.addEventListener("click",(()=>editBookmarkSet(o)));const k=document.createElement("button");k.textContent="Add Link",k.classList.add("add-link"),k.addEventListener("click",(()=>addLinkToBookmarkSet(o))),c.appendChild(m),c.appendChild(k),n.appendChild(c),n.appendChild(l),e.appendChild(n);let u=0;l.addEventListener("dragover",(e=>{e.preventDefault(),e.stopPropagation();const t=Date.now();if(t-u<50)return;u=t;const o=document.querySelector(".bookmark-link.dragging");if(!o)return;document.querySelectorAll(".link-drop-indicator").forEach((e=>{e.style.display="none"}));const n=getDragAfterLink(l,e.clientY);if(null==n){const e=l.lastElementChild;e&&!e.classList.contains("dragging")&&(e.querySelector(".link-drop-indicator.bottom").style.display="block")}else n.querySelector(".link-drop-indicator.top").style.display="block";null==n?l.appendChild(o):l.insertBefore(o,n)})),l.addEventListener("drop",(e=>{e.preventDefault(),e.stopPropagation(),document.querySelectorAll(".link-drop-indicator").forEach((e=>{e.style.display="none"}));const t=JSON.parse(e.dataTransfer.getData("text/plain")),{bookmarkSetIndex:o,linkIndex:n}=t,a=parseInt(l.dataset.bookmarkSetIndex);if(isNaN(o)||isNaN(n)||isNaN(a))return;const r=Array.from(l.querySelectorAll(".bookmark-link")).findIndex((e=>e.classList.contains("dragging")));if(-1===r)return;const i=bookmarks[o].links.splice(n,1)[0];bookmarks[a].links.splice(r,0,i),saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}))}));let t=0;e.addEventListener("dragover",(o=>{o.preventDefault();const n=Date.now();if(n-t<50)return;t=n;const a=document.querySelector(".dragging");if(!a)return;document.querySelectorAll(".drop-indicator").forEach((e=>{e.style.display="none"}));const r=getDragAfterElement(e,o.clientY);if(null==r){const t=e.lastElementChild;t&&!t.classList.contains("dragging")&&(t.querySelector(".drop-indicator.bottom").style.display="block")}else r.querySelector(".drop-indicator.top").style.display="block";null==r?e.appendChild(a):e.insertBefore(a,r)})),e.addEventListener("drop",(t=>{t.preventDefault(),document.querySelectorAll(".drop-indicator").forEach((e=>{e.style.display="none"}));const o=parseInt(t.dataTransfer.getData("text/plain"));if(isNaN(o))return;if(!document.querySelector(".dragging"))return;Array.from(e.querySelectorAll(".bookmark-set-settings")).forEach(((e,t)=>{const o=parseInt(e.dataset.index);isNaN(o)||(bookmarks[o].number=t)})),saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}))}function getDragAfterElement(e,t){return[...e.querySelectorAll(".bookmark-set-settings:not(.dragging)")].reduce(((e,o)=>{const n=o.getBoundingClientRect(),a=t-(n.top+n.height/2);return a<0&&a>e.offset?{offset:a,element:o}:e}),{offset:Number.NEGATIVE_INFINITY}).element}function addLinkToBookmarkSet(e){createForm({"Link Name":"",URL:["","url"],"Hide Link":[!1,"checkbox"],"Add Divider":[!1,"checkbox"],Keywords:["","text"]},(t=>{const o={name:t["Link Name"],url:t.URL,keywords:t.Keywords?t.Keywords.split(",").map((e=>e.trim())):[],hide:t["Hide Link"],divide:t["Add Divider"]};bookmarks[e].links.push(o),saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}))}function editLink(e,t){const o=bookmarks[e].links[t];createForm({"Link Name":o.name,URL:[o.url,"url"],"Hide Link":[o.hide||!1,"checkbox"],"Add Divider":[o.divide||!1,"checkbox"],Keywords:[o.keywords?o.keywords.join(", "):"","text"]},["Save Link",o=>{o["Link Name"]&&o.URL&&(bookmarks[e].links[t]={name:o["Link Name"],url:o.URL,hide:o["Hide Link"],divide:o["Add Divider"],keywords:o.Keywords?o.Keywords.split(",").map((e=>e.trim())).filter((e=>e)):[]},saveBookmarks(),displayBookmarksInSettings(),setupBookmarks())}],["Delete Link",()=>{confirm("Are you sure you want to delete this link?")&&(bookmarks[e].links.splice(t,1),saveBookmarks(),displayBookmarksInSettings(),setupBookmarks())}])}function toggleBookmarkSetVisibility(e){bookmarks[e].hide=!bookmarks[e].hide,saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}function toggleLinkVisibility(e,t){bookmarks[e].links[t].hide=!bookmarks[e].links[t].hide,saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}function toggleLinkDivide(e,t){bookmarks[e].links[t].divide=!bookmarks[e].links[t].divide,saveBookmarks(),displayBookmarksInSettings(),setupBookmarks()}function saveBookmarks(){localStorage.setItem("bookmarks",JSON.stringify(bookmarks))}function getDragAfterLink(e,t){return[...e.querySelectorAll(".bookmark-link:not(.dragging)")].reduce(((e,o)=>{const n=o.getBoundingClientRect(),a=t-(n.top+n.height/2);return a<0&&a>e.offset?{offset:a,element:o}:e}),{offset:Number.NEGATIVE_INFINITY}).element}function createForm(e,t,o){const n=document.createElement("form");n.classList.add("dynamic-form");const a=document.createElement("div");a.classList.add("form-backdrop");const r=()=>{n.remove(),a.remove()};a.addEventListener("click",r);for(const[t,o]of Object.entries(e)){const e=document.createElement("div"),a=document.createElement("label");a.textContent=t;const r=document.createElement("input");Array.isArray(o)?(r.type=o[1],r.value=o[0]):(r.type="text",r.value=o),r.name=t,e.appendChild(a),e.appendChild(r),n.appendChild(e)}const i=document.createElement("div"),s=document.createElement("button");s.classList.add("cancel-button"),s.textContent="Cancel",s.type="button",s.addEventListener("click",r);const d=document.createElement("button");if(d.type="submit",d.textContent=Array.isArray(t)?t[0]:"Save Changes",o){const e=document.createElement("button");e.classList.add("secondary-button"),e.type="button",Array.isArray(o)?(e.textContent=o[0],e.addEventListener("click",(()=>{o[1](),r()}))):(e.textContent="Secondary",e.addEventListener("click",(()=>{o(),r()}))),i.appendChild(e)}i.appendChild(s),i.appendChild(d),n.appendChild(i),n.addEventListener("submit",(o=>{o.preventDefault();const a={};for(const[t]of Object.entries(e)){const e=n.querySelector(`input[name="${t}"]`);"checkbox"===e.type?a[t]=e.checked:a[t]=e.value}t(a),r()})),document.body.appendChild(a),document.body.appendChild(n)}saveBookmarks(),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".camera-container"),t=document.querySelector("#camera-icon"),o=document.getElementById("video");let n;t.addEventListener("click",(()=>{navigator.mediaDevices.getUserMedia({video:!0}).then((t=>{n=t,o.srcObject=t,o.style.animation="appear 1s 1 linear",setTimeout((()=>{e.style.display="grid"}),500)})).catch((e=>{console.error("Error accessing the camera: ",e)}))})),document.addEventListener("click",(()=>{"grid"==e.style.display&&(e.style.display="none",function(){if(n){n.getTracks().forEach((e=>e.stop())),n=null}}())}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.documentElement,t=document.querySelector(".coin-flip"),o=document.querySelector(".side-b"),n=document.querySelector(".side-a");function a(){const a=Math.random()<.5?"Heads":"Tails";o.style.animation="none",n.style.animation="none",t.style.animation="none",function(a){setTimeout((()=>{o.style.animation="",n.style.animation="",r(t,!0),"Heads"==a?(o.style.zIndex="1",n.style.zIndex="0",o.style.animation="flipFront 3s 1 ease-in",n.style.animation="flipBack 3s 1 ease-in"):(n.style.zIndex="1",o.style.zIndex="0",n.style.animation="flipFront 3s 1 ease-in",o.style.animation="flipBack 3s 1 ease-in")}),10),setTimeout((()=>{"Heads"==a?e.style.setProperty("--coin-shadow","var(--green)"):e.style.setProperty("--coin-shadow","var(--red)"),console.log("xDGJDSMGKJMLDSHGMKJL")}),3010),setTimeout((()=>{t.style.animation="dissapear 0.2s linear forwards"}),4510),setTimeout((()=>{r(t,!1),e.style.setProperty("--coin-shadow","#fff")}),4710)}(a)}function r(e,t){e.style.display=t?"flex":"none",e.style.animation="appear 0.2s linear"}const i=document.getElementById("searchInput");document.addEventListener("keydown",(function(e){if("Enter"===e.key&&"flip"==i.value.toLowerCase())return a(),void(i.value="")}))}));var colours={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function initializeSearchSettings(){displaySearchPrefixes()}function displaySearchPrefixes(){const e=document.getElementById("search-prefixes-container");e.innerHTML="";const t=localStorage.getItem("searchPrefixes"),o=t?JSON.parse(t):"",n=document.createElement("button");n.textContent="Add Prefix",n.classList.add("add-prefix"),n.addEventListener("click",addSearchPrefix),e.appendChild(n),Object.entries(o).forEach((([t,o])=>{const n=document.createElement("div");n.classList.add("prefix-display"),n.classList.add("individual-setting");const a=document.createElement("div");a.classList.add("prefix-text"),a.innerHTML=`<strong>-${t}:</strong>`;const r=document.createElement("div");r.classList.add("prefix-buttons");const i=document.createElement("button");i.textContent="Edit",i.classList.add("edit-prefix"),i.addEventListener("click",(()=>editSearchPrefix(t,o)));const s=document.createElement("button");s.textContent="Delete",s.classList.add("delete-prefix"),s.addEventListener("click",(()=>deleteSearchPrefix(t))),r.appendChild(i),r.appendChild(s),n.appendChild(a),n.appendChild(r),e.appendChild(n)}))}function addSearchPrefix(){createForm({Prefix:"","URL Template {query}":["","url"]},(e=>{const t=e.Prefix.toLowerCase().trim(),o=e["URL Template {query}"].trim();if(t&&o){const e=JSON.parse(localStorage.getItem("searchPrefixes")||"{}");e[t]=o,localStorage.setItem("searchPrefixes",JSON.stringify(e)),displaySearchPrefixes()}}))}function editSearchPrefix(e,t){createForm({Prefix:e,"URL Template {query}":[t,"url"]},(t=>{const o=t.Prefix.toLowerCase().trim(),n=t["URL Template {query}"].trim();if(o&&n){const t=JSON.parse(localStorage.getItem("searchPrefixes")||"{}");o!==e&&delete t[e],t[o]=n,localStorage.setItem("searchPrefixes",JSON.stringify(t)),displaySearchPrefixes()}}))}function deleteSearchPrefix(e){const t=JSON.parse(localStorage.getItem("searchPrefixes")||"{}");delete t[e],localStorage.setItem("searchPrefixes",JSON.stringify(t)),displaySearchPrefixes()}document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("searchInput"),t=document.documentElement;let o=0,n=!1;const a=document.querySelector(".settings");e.value="";const r=e=>{window.location.href=e},i=e=>{o=0,n=!1,t.style.setProperty("--bookmark-color",""),e.forEach((e=>{e.classList.remove("on"),e.style.color="",e.style.position="",e.style.bottom="",e.style.opacity=""}))};document.addEventListener("keydown",(function(s){if(a.classList.contains("show"))return;const d=document.querySelectorAll(".bookmark");if(s.altKey)return;const l="Enter"===s.key||"+"===s.key||"Backspace"===s.key||s.ctrlKey,c=/^[a-zA-Z0-9]$/.test(s.key);if(l||c){if(n=!1,s.preventDefault(),"Enter"===s.key){const t=(e=>{if(!e)return{type:"default",query:""};const t=e.match(/^-(\w+):\s*(.+)$/);if(t){const[e,o,n]=t;return{type:o.toLowerCase(),query:n.trim()}}return{type:"default",query:e.trim()}})(e.value),n=(()=>{const e=localStorage.getItem("searchPrefixes");return e?JSON.parse(e):""})();if("default"!==t.type){const e=n[t.type];if(e){const o=e.replace("{query}",encodeURIComponent(t.query));r(o)}return}{if(s.ctrlKey)return void r(`https://www.google.com/search?q=${encodeURIComponent(e.value)}`);if("flip"==e.value.toLowerCase()||"stopwatch"==e.value.toLowerCase())return void i(d);let t=!1;return d.forEach((n=>{if(n.textContent.toLowerCase()===e.value||n.classList.contains("on")&&1===o)return t=!0,e.style.animation="right 0.1s 1 forwards",void r(n.href);const a=n.getAttribute("data-keywords");return a&&a.toLowerCase().split(" ").includes(e.value)?(t=!0,e.style.animation="right 0.1s 1 forwards",void r(n.href)):void 0})),t||(e.style.animation="wrong 1s 1"),void setTimeout((()=>e.style.animation=""),1e3)}}if(s.ctrlKey&&s.preventDefault(),"a"===s.key&&s.ctrlKey)return e.value="",n=!1,1===o&&(document.querySelector(".on").style.color="var(--bookmark-color)"),void i(d);"Backspace"===s.key?(e.value=e.value.slice(0,-1),o=0):s.ctrlKey||(e.value+=s.key),document.activeElement!==e&&e.focus(),0===e.value.length&&i(d),o=0,document.querySelectorAll(".on").forEach((e=>e.style.color="")),e.value.length>0&&(t.style.setProperty("--bookmark-color","gray"),d.forEach((t=>{t.textContent.toLowerCase().includes(e.value.toLowerCase())?(t.classList.add("on"),t.style.position="",t.style.bottom="",t.style.opacity="",o++):(t.classList.remove("on"),t.style.opacity="0.5");const a=t.getAttribute("data-keywords");a&&a.toLowerCase().split(" ").includes(e.value.toLowerCase())?(t.style.opacity="",t.style.color="var(--hover-color)",n=!0):t.style.color=""}))),!n&&1!==o&&document.querySelector(".on")?document.querySelector(".on").style.color="":1!=o||n||(document.querySelector(".on").style.color="var(--hover-color)")}}))}));"use strict";function openSettingsTab(){const e=document.querySelector(".settings");e instanceof HTMLElement&&e.classList.toggle("show")}function getTime(){const e=new Date,t=e.getMinutes(),o=e.getSeconds(),n=e.getHours();return setBackground(n,t),(n<10?"0"+n:n)+":"+(t<10?"0"+t:t)+":"+(o<10?"0"+o:o)}function setBackground(e,t){18===e||19===e?document.documentElement.classList.add("dawn"):document.documentElement.classList.remove("dawn")}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("settings-icon");e&&(e.addEventListener("click",openSettingsTab),document.addEventListener("keydown",(e=>{"Escape"===e.code&&openSettingsTab()})),initializeBookmarksSettings(),initializeSearchSettings())})),document.addEventListener("DOMContentLoaded",(()=>{let e;document.addEventListener("keydown",(function(t){if("Enter"===t.key&&"stopwatch"==searchInput.value.toLowerCase())return function(){const t=document.querySelector(".time-stuff-container"),o=document.createElement("div");o.id="stopwatch",o.classList.add("container-card");const n=document.createElement("p");o.appendChild(n),t.appendChild(o),o.addEventListener("click",(()=>{var t;t=o,clearInterval(e),t.style.animation="fadeOut 0.5s linear",setTimeout((()=>{t.remove()}),500)}));const a=Date.now();e=setInterval((()=>{const e=Date.now()-a,t=Math.floor(e/1e3%60),o=Math.floor(e/1e3/60%60),r=Math.floor(e/1e3/60/60);let i="";r>0&&(i+=`${r}h `),o>0&&(i+=`${o}m `),i+=`${t}s`,n.innerHTML=i}),100)}(),void(searchInput.value="")}))})),window.onload=()=>{setupBookmarks();let e=document.getElementById("clock");e&&(e.innerHTML=getTime(),setInterval((()=>{e.innerHTML=getTime()}),100))};