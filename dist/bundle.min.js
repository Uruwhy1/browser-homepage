let bookmarks=JSON.parse(localStorage.getItem("bookmarks"))||[];saveBookmarks();function setupBookmarks(){const bookmarkContainer=document.getElementById("bookmark-container");bookmarkContainer.innerHTML="";bookmarks.map((b=>{const html=document.createElement("div");html.classList.add("bookmark-set");html.style.order=b.number;const title=document.createElement("div");title.classList.add("bookmark-title");title.textContent=b.title;if(b.hide){html.style.display="none";console.log("%cHIDDEN LINKS:","color: red; font-size: x-large");b.links.map((l=>{console.log(l.name,l.keywords)}))}const innerBookmarks=document.createElement("div");innerBookmarks.classList.add("bookmark-inner-container");b.links.map((l=>{const link=document.createElement("a");link.classList.add("bookmark");link.href=l.url;link.textContent=l.name;if(l.keywords){link.setAttribute("data-keywords",l.keywords.join(" "))}if(l.hide){link.style.display="none"}innerBookmarks.appendChild(link);if(l.divide){const divider=document.createElement("span");divider.classList.add("divider");innerBookmarks.appendChild(divider)}}));html.appendChild(title);html.appendChild(innerBookmarks);bookmarkContainer.appendChild(html);if(b.color){html.style.setProperty("--accent-container",b.color)}}))}function saveBookmarks(){localStorage.setItem("bookmarks",JSON.stringify(bookmarks))}function initializeBookmarksSettings(){const addButton=document.getElementById("add-bookmark");addButton.addEventListener("click",addBookmark);displayBookmarksInSettings()}function addBookmark(){const fields={"Bookmark Set Title":"",Color:["#fff","color"],"Hide Bookmark Set":[false,"checkbox"]};createForm(fields,(formData=>{const newBookmarkSet={title:formData["Bookmark Set Title"],links:[],hide:formData["Hide Bookmark Set"],color:formData["Color"],open:false,number:bookmarks.length};bookmarks.push(newBookmarkSet);saveBookmarks();displayBookmarksInSettings();setupBookmarks()}))}function removeBookmark(index){bookmarks.splice(index,1);saveBookmarks();displayBookmarksInSettings();setupBookmarks()}function editBookmarkSet(index){const bookmarkSet=bookmarks[index];const fields={"Bookmark Set Title":bookmarkSet.title,Color:[colours[bookmarkSet.color]||bookmarkSet.color,"color"],"Hide Bookmark Set":[bookmarkSet.hide,"checkbox"]};createForm(fields,(formData=>{bookmarks[index]={...bookmarkSet,title:formData["Bookmark Set Title"],color:formData["Color"],hide:formData["Hide Bookmark Set"]};saveBookmarks();displayBookmarksInSettings();setupBookmarks()}),["Remove",()=>{removeBookmark(index)}])}function displayBookmarksInSettings(){const bookmarksContainer=document.getElementById("bookmarks-container");bookmarksContainer.innerHTML="";bookmarks.sort(((a,b)=>a.number-b.number));bookmarks.forEach(((bookmarkSet,index)=>{const bookmarkSetElement=document.createElement("div");bookmarkSetElement.classList.add("bookmark-set-settings");bookmarkSetElement.classList.add("individual-setting");bookmarkSetElement.draggable=true;bookmarkSetElement.dataset.index=index;bookmarkSetElement.style.order=bookmarkSet.number;const topIndicator=document.createElement("div");topIndicator.classList.add("drop-indicator","top");const bottomIndicator=document.createElement("div");bottomIndicator.classList.add("drop-indicator","bottom");bookmarkSetElement.appendChild(topIndicator);bookmarkSetElement.appendChild(bottomIndicator);if(bookmarkSet.color){bookmarkSetElement.style.setProperty("--accent-container",bookmarkSet.color)}if(bookmarkSet.open){bookmarkSetElement.classList.add("displayed")}bookmarkSetElement.addEventListener("dragstart",(e=>{e.dataTransfer.setData("text/plain",index);e.dataTransfer.effectAllowed="move";bookmarkSetElement.classList.add("dragging");document.querySelectorAll(".drop-indicator").forEach((indicator=>{indicator.style.display="none"}))}));bookmarkSetElement.addEventListener("dragend",(()=>{bookmarkSetElement.classList.remove("dragging");document.querySelectorAll(".drop-indicator").forEach((indicator=>{indicator.style.display="none"}))}));const titleDiv=document.createElement("div");titleDiv.classList.add("set-title-container");const titleElement=document.createElement("h4");titleElement.textContent=bookmarkSet.title;titleElement.addEventListener("click",(()=>{bookmarkSet.open=!bookmarkSet.open;saveBookmarks();displayBookmarksInSettings()}));const toggleHideButton=document.createElement("button");toggleHideButton.innerHTML=bookmarkSet.hide?`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye-off"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>`:`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>`;toggleHideButton.classList.add("toggle-hide-set");toggleHideButton.addEventListener("click",(()=>toggleBookmarkSetVisibility(index)));titleDiv.appendChild(titleElement);titleDiv.appendChild(toggleHideButton);bookmarkSetElement.appendChild(titleDiv);const linksContainer=document.createElement("div");linksContainer.classList.add("bookmark-links-container");linksContainer.dataset.bookmarkSetIndex=index;bookmarkSet.links.forEach(((link,linkIndex)=>{const linkElement=document.createElement("div");linkElement.classList.add("bookmark-link");linkElement.draggable=true;linkElement.dataset.linkIndex=linkIndex;const linkTopIndicator=document.createElement("div");linkTopIndicator.classList.add("link-drop-indicator","top");const linkBottomIndicator=document.createElement("div");linkBottomIndicator.classList.add("link-drop-indicator","bottom");linkElement.appendChild(linkTopIndicator);linkElement.appendChild(linkBottomIndicator);linkElement.addEventListener("dragstart",(e=>{e.stopPropagation();e.dataTransfer.setData("text/plain",JSON.stringify({bookmarkSetIndex:index,linkIndex:linkIndex}));linkElement.classList.add("dragging");document.querySelectorAll(".link-drop-indicator").forEach((indicator=>{indicator.style.display="none"}))}));linkElement.addEventListener("dragend",(()=>{linkElement.classList.remove("dragging");document.querySelectorAll(".link-drop-indicator").forEach((indicator=>{indicator.style.display="none"}))}));const titleLink=document.createElement("div");titleLink.classList.add("link-title-container");const linkName=document.createElement("span");linkName.textContent=link.name;const toggleLinkHideButton=document.createElement("button");toggleLinkHideButton.innerHTML=link.hide?`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye-off"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>`:`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>`;toggleLinkHideButton.classList.add("toggle-hide");toggleLinkHideButton.addEventListener("click",(()=>toggleLinkVisibility(index,linkIndex)));const toggleDivideButton=document.createElement("button");toggleDivideButton.innerHTML=link.divide?`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus"><line x1="5" y1="12" x2="19" y2="12"></line></svg>`:`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>`;toggleDivideButton.classList.add("toggle-divide");toggleDivideButton.addEventListener("click",(()=>toggleLinkDivide(index,linkIndex)));titleLink.appendChild(linkName);titleLink.appendChild(toggleLinkHideButton);titleLink.appendChild(toggleDivideButton);linkElement.appendChild(titleLink);const removeLinkButton=document.createElement("button");removeLinkButton.textContent="Edit Link";removeLinkButton.addEventListener("click",(()=>editLink(index,linkIndex)));linkElement.appendChild(removeLinkButton);const keywordsContainer=document.createElement("div");keywordsContainer.classList.add("keywords-container");const keywordsDisplay=document.createElement("span");keywordsDisplay.textContent=link.keywords?link.keywords.join(", "):"";keywordsContainer.appendChild(keywordsDisplay);const editKeywordsButton=document.createElement("button");editKeywordsButton.textContent="Edit Keywords";editKeywordsButton.classList.add("edit-keywords");editKeywordsButton.addEventListener("click",(()=>{const keywordsInput=document.createElement("input");keywordsInput.type="text";keywordsInput.value=link.keywords?link.keywords.join(", "):"";keywordsInput.classList.add("keywords-input");const saveKeywordsButton=document.createElement("button");saveKeywordsButton.textContent="Save";saveKeywordsButton.classList.add("save-keywords");saveKeywordsButton.addEventListener("click",(()=>{const newKeywords=keywordsInput.value.split(",").map((k=>k.trim())).filter((k=>k.length>0));bookmarks[index].links[linkIndex].keywords=newKeywords;saveBookmarks();displayBookmarksInSettings()}));keywordsContainer.innerHTML="";keywordsContainer.appendChild(keywordsInput);keywordsContainer.appendChild(saveKeywordsButton)}));keywordsContainer.appendChild(editKeywordsButton);linkElement.appendChild(keywordsContainer);linksContainer.appendChild(linkElement)}));const actionButtons=document.createElement("div");actionButtons.classList.add("bookmark-actions");const editButton=document.createElement("button");editButton.textContent="Edit";editButton.classList.add("edit-set");editButton.addEventListener("click",(()=>editBookmarkSet(index)));const addLinkButton=document.createElement("button");addLinkButton.textContent="Add Link";addLinkButton.classList.add("add-link");addLinkButton.addEventListener("click",(()=>addLinkToBookmarkSet(index)));actionButtons.appendChild(editButton);actionButtons.appendChild(addLinkButton);bookmarkSetElement.appendChild(actionButtons);bookmarkSetElement.appendChild(linksContainer);bookmarksContainer.appendChild(bookmarkSetElement);let lastLinkDragOver=0;linksContainer.addEventListener("dragover",(e=>{e.preventDefault();e.stopPropagation();const now=Date.now();if(now-lastLinkDragOver<50)return;lastLinkDragOver=now;const draggingElement=document.querySelector(".bookmark-link.dragging");if(!draggingElement)return;document.querySelectorAll(".link-drop-indicator").forEach((indicator=>{indicator.style.display="none"}));const afterElement=getDragAfterLink(linksContainer,e.clientY);if(afterElement==null){const lastElement=linksContainer.lastElementChild;if(lastElement&&!lastElement.classList.contains("dragging")){lastElement.querySelector(".link-drop-indicator.bottom").style.display="block"}}else{afterElement.querySelector(".link-drop-indicator.top").style.display="block"}if(afterElement==null){linksContainer.appendChild(draggingElement)}else{linksContainer.insertBefore(draggingElement,afterElement)}}));linksContainer.addEventListener("drop",(e=>{e.preventDefault();e.stopPropagation();document.querySelectorAll(".link-drop-indicator").forEach((indicator=>{indicator.style.display="none"}));const dragData=JSON.parse(e.dataTransfer.getData("text/plain"));const{bookmarkSetIndex:fromSetIndex,linkIndex:fromLinkIndex}=dragData;const toSetIndex=parseInt(linksContainer.dataset.bookmarkSetIndex);if(isNaN(fromSetIndex)||isNaN(fromLinkIndex)||isNaN(toSetIndex))return;const linkElements=Array.from(linksContainer.querySelectorAll(".bookmark-link"));const toIndex=linkElements.findIndex((el=>el.classList.contains("dragging")));if(toIndex===-1)return;const movedLink=bookmarks[fromSetIndex].links.splice(fromLinkIndex,1)[0];bookmarks[toSetIndex].links.splice(toIndex,0,movedLink);saveBookmarks();displayBookmarksInSettings();setupBookmarks()}))}));let lastDragOver=0;bookmarksContainer.addEventListener("dragover",(e=>{e.preventDefault();const now=Date.now();if(now-lastDragOver<50)return;lastDragOver=now;const draggingElement=document.querySelector(".dragging");if(!draggingElement)return;document.querySelectorAll(".drop-indicator").forEach((indicator=>{indicator.style.display="none"}));const afterElement=getDragAfterElement(bookmarksContainer,e.clientY);if(afterElement==null){const lastElement=bookmarksContainer.lastElementChild;if(lastElement&&!lastElement.classList.contains("dragging")){lastElement.querySelector(".drop-indicator.bottom").style.display="block"}}else{afterElement.querySelector(".drop-indicator.top").style.display="block"}if(afterElement==null){bookmarksContainer.appendChild(draggingElement)}else{bookmarksContainer.insertBefore(draggingElement,afterElement)}}));bookmarksContainer.addEventListener("drop",(e=>{e.preventDefault();document.querySelectorAll(".drop-indicator").forEach((indicator=>{indicator.style.display="none"}));const draggedIndex=parseInt(e.dataTransfer.getData("text/plain"));if(isNaN(draggedIndex))return;const draggingElement=document.querySelector(".dragging");if(!draggingElement)return;const bookmarkElements=Array.from(bookmarksContainer.querySelectorAll(".bookmark-set-settings"));bookmarkElements.forEach(((element,newIndex)=>{const originalIndex=parseInt(element.dataset.index);if(!isNaN(originalIndex)){bookmarks[originalIndex].number=newIndex}}));saveBookmarks();displayBookmarksInSettings();setupBookmarks()}))}function getDragAfterElement(container,y){const draggableElements=[...container.querySelectorAll(".bookmark-set-settings:not(.dragging)")];return draggableElements.reduce(((closest,child)=>{const box=child.getBoundingClientRect();const offset=y-(box.top+box.height/2);if(offset<0&&offset>closest.offset){return{offset:offset,element:child}}else{return closest}}),{offset:Number.NEGATIVE_INFINITY}).element}function addLinkToBookmarkSet(bookmarkSetIndex){const fields={"Link Name":"",URL:["","url"],"Hide Link":[false,"checkbox"],"Add Divider":[false,"checkbox"],Keywords:["","text"]};createForm(fields,(formData=>{const newLink={name:formData["Link Name"],url:formData["URL"],keywords:formData["Keywords"]?formData["Keywords"].split(",").map((k=>k.trim())):[],hide:formData["Hide Link"],divide:formData["Add Divider"]};bookmarks[bookmarkSetIndex].links.push(newLink);saveBookmarks();displayBookmarksInSettings();setupBookmarks()}))}function editLink(bookmarkSetIndex,linkIndex){const link=bookmarks[bookmarkSetIndex].links[linkIndex];const fields={"Link Name":link.name,URL:[link.url,"url"],"Hide Link":[link.hide||false,"checkbox"],"Add Divider":[link.divide||false,"checkbox"],Keywords:[link.keywords?link.keywords.join(", "):"","text"]};createForm(fields,["Save Link",formData=>{if(formData["Link Name"]&&formData["URL"]){bookmarks[bookmarkSetIndex].links[linkIndex]={name:formData["Link Name"],url:formData["URL"],hide:formData["Hide Link"],divide:formData["Add Divider"],keywords:formData["Keywords"]?formData["Keywords"].split(",").map((k=>k.trim())).filter((k=>k)):[]};saveBookmarks();displayBookmarksInSettings();setupBookmarks()}}],["Delete Link",()=>{if(confirm("Are you sure you want to delete this link?")){bookmarks[bookmarkSetIndex].links.splice(linkIndex,1);saveBookmarks();displayBookmarksInSettings();setupBookmarks()}}])}function toggleBookmarkSetVisibility(index){bookmarks[index].hide=!bookmarks[index].hide;saveBookmarks();displayBookmarksInSettings();setupBookmarks()}function toggleLinkVisibility(bookmarkSetIndex,linkIndex){bookmarks[bookmarkSetIndex].links[linkIndex].hide=!bookmarks[bookmarkSetIndex].links[linkIndex].hide;saveBookmarks();displayBookmarksInSettings();setupBookmarks()}function toggleLinkDivide(bookmarkSetIndex,linkIndex){bookmarks[bookmarkSetIndex].links[linkIndex].divide=!bookmarks[bookmarkSetIndex].links[linkIndex].divide;saveBookmarks();displayBookmarksInSettings();setupBookmarks()}function saveBookmarks(){localStorage.setItem("bookmarks",JSON.stringify(bookmarks))}function getDragAfterLink(container,y){const draggableElements=[...container.querySelectorAll(".bookmark-link:not(.dragging)")];return draggableElements.reduce(((closest,child)=>{const box=child.getBoundingClientRect();const offset=y-(box.top+box.height/2);if(offset<0&&offset>closest.offset){return{offset:offset,element:child}}else{return closest}}),{offset:Number.NEGATIVE_INFINITY}).element}document.addEventListener("DOMContentLoaded",(()=>{const cameraContainer=document.querySelector(".camera-container");const cameraButton=document.querySelector("#camera-icon");const video=document.getElementById("video");cameraButton.addEventListener("click",(()=>{getUserMedia()}));let mediaStream;function getUserMedia(){navigator.mediaDevices.getUserMedia({video:true}).then((stream=>{mediaStream=stream;video.srcObject=stream;video.style.animation="appear 1s 1 linear";setTimeout((()=>{cameraContainer.style.display="grid"}),500)})).catch((error=>{console.error("Error accessing the camera: ",error)}))}document.addEventListener("click",(()=>{if(cameraContainer.style.display=="grid"){cameraContainer.style.display="none";stopVideoStream()}}));function stopVideoStream(){if(mediaStream){let tracks=mediaStream.getTracks();tracks.forEach((track=>track.stop()));mediaStream=null}}}));document.addEventListener("DOMContentLoaded",(()=>{const root=document.documentElement;const flipButton=document.querySelector(".coin-flip");const heads=document.querySelector(".side-b");const tails=document.querySelector(".side-a");function startCoinSequence(){const result=flipCoin();heads.style.animation="none";tails.style.animation="none";flipButton.style.animation="none";animation(result)}function flipCoin(){const random=Math.random();return random<.5?"Heads":"Tails"}function toggleElem(elem,bool){if(bool){elem.style.display="flex"}else{elem.style.display="none"}elem.style.animation="appear 0.2s linear"}function animation(result){setTimeout((()=>{heads.style.animation="";tails.style.animation="";toggleElem(flipButton,true);if(result=="Heads"){heads.style.zIndex="1";tails.style.zIndex="0";heads.style.animation="flipFront 3s 1 ease-in";tails.style.animation="flipBack 3s 1 ease-in"}else{tails.style.zIndex="1";heads.style.zIndex="0";tails.style.animation="flipFront 3s 1 ease-in";heads.style.animation="flipBack 3s 1 ease-in"}}),10);setTimeout((()=>{result=="Heads"?root.style.setProperty("--coin-shadow","var(--green)"):root.style.setProperty("--coin-shadow","var(--red)");console.log("xDGJDSMGKJMLDSHGMKJL")}),3010);setTimeout((()=>{flipButton.style.animation="dissapear 0.2s linear forwards"}),4510);setTimeout((()=>{toggleElem(flipButton,false);root.style.setProperty("--coin-shadow","#fff")}),4710)}const searchInput=document.getElementById("searchInput");document.addEventListener("keydown",(function(event){if(event.key==="Enter"){if(searchInput.value.toLowerCase()=="flip"){startCoinSequence();searchInput.value="";return}}}))}));function createForm(fields,onSubmit,onSecondary){const form=document.createElement("form");form.classList.add("dynamic-form");const backdrop=document.createElement("div");backdrop.classList.add("form-backdrop");const removeForm=()=>{form.remove();backdrop.remove()};backdrop.addEventListener("click",removeForm);for(const[key,value]of Object.entries(fields)){const container=document.createElement("div");const label=document.createElement("label");label.textContent=key;const input=document.createElement("input");if(Array.isArray(value)){input.type=value[1];input.value=value[0]}else{input.type="text";input.value=value}input.name=key;container.appendChild(label);container.appendChild(input);form.appendChild(container)}const buttonContainer=document.createElement("div");const cancelButton=document.createElement("button");cancelButton.classList.add("cancel-button");cancelButton.textContent="Cancel";cancelButton.type="button";cancelButton.addEventListener("click",removeForm);const submitButton=document.createElement("button");submitButton.type="submit";submitButton.textContent=Array.isArray(onSubmit)?onSubmit[0]:"Save Changes";if(onSecondary){const secondaryButton=document.createElement("button");secondaryButton.classList.add("secondary-button");secondaryButton.type="button";if(Array.isArray(onSecondary)){secondaryButton.textContent=onSecondary[0];secondaryButton.addEventListener("click",(()=>{onSecondary[1]();removeForm()}))}else{secondaryButton.textContent="Secondary";secondaryButton.addEventListener("click",(()=>{onSecondary();removeForm()}))}buttonContainer.appendChild(secondaryButton)}buttonContainer.appendChild(cancelButton);buttonContainer.appendChild(submitButton);form.appendChild(buttonContainer);form.addEventListener("submit",(e=>{e.preventDefault();const formData={};for(const[key]of Object.entries(fields)){const input=form.querySelector(`input[name="${key}"]`);if(input.type==="checkbox"){formData[key]=input.checked}else{formData[key]=input.value}}onSubmit(formData);removeForm()}));document.body.appendChild(backdrop);document.body.appendChild(form)}var colours={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};document.addEventListener("DOMContentLoaded",(function(){const searchInput=document.getElementById("searchInput");const root=document.documentElement;let numberFind=0;let keywordFound=false;const settingsBar=document.querySelector(".settings");const timerModal=document.querySelector(".timer-modal-container");searchInput.value="";const redirectToUrl=url=>{window.location.href=url};const resetBookmarkStyles=links=>{numberFind=0;keywordFound=false;root.style.setProperty("--bookmark-color","");links.forEach((link=>{link.classList.remove("on");link.style.color="";link.style.position="";link.style.bottom="";link.style.opacity=""}))};const analyzeSearchInput=searchValue=>{if(!searchValue){return{type:"default",query:""}}const prefixMatch=searchValue.match(/^-(\w+):\s*(.+)$/);if(prefixMatch){const[_,prefix,query]=prefixMatch;return{type:prefix.toLowerCase(),query:query.trim()}}return{type:"default",query:searchValue.trim()}};const getSearchPrefixes=()=>{const storedPrefixes=localStorage.getItem("searchPrefixes");return storedPrefixes?JSON.parse(storedPrefixes):""};document.addEventListener("keydown",(function(event){if(timerModal.style.display=="flex"||settingsBar.classList.contains("show")){return}const links=document.querySelectorAll(".bookmark");if(event.altKey){return}const isSpecialKey=event.key==="Enter"||event.key==="+"||event.key==="Backspace"||event.ctrlKey;const isAlphanumeric=/^[a-zA-Z0-9]$/.test(event.key);if(!isSpecialKey&&!isAlphanumeric){return}keywordFound=false;event.preventDefault();if(event.key==="Enter"){const searchAnalysis=analyzeSearchInput(searchInput.value);const prefixes=getSearchPrefixes();if(searchAnalysis.type!=="default"){const prefixUrl=prefixes[searchAnalysis.type];if(prefixUrl){const finalUrl=prefixUrl.replace("{query}",encodeURIComponent(searchAnalysis.query));redirectToUrl(finalUrl)}return}else{if(event.ctrlKey){redirectToUrl(`https://www.google.com/search?q=${encodeURIComponent(searchInput.value)}`);return}if(searchInput.value.toLowerCase()=="flip"||searchInput.value.toLowerCase()=="stopwatch"){resetBookmarkStyles(links);return}let found=false;links.forEach((link=>{if(link.textContent.toLowerCase()===searchInput.value||link.classList.contains("on")&&numberFind===1){found=true;searchInput.style.animation="right 0.1s 1 forwards";redirectToUrl(link.href);return}const keywords=link.getAttribute("data-keywords");if(keywords&&keywords.toLowerCase().split(" ").includes(searchInput.value)){found=true;searchInput.style.animation="right 0.1s 1 forwards";redirectToUrl(link.href);return}}));if(!found){searchInput.style.animation="wrong 1s 1"}setTimeout((()=>searchInput.style.animation=""),1e3);return}}if(event.ctrlKey){event.preventDefault()}if(event.key==="a"&&event.ctrlKey){searchInput.value="";keywordFound=false;if(numberFind===1){document.querySelector(".on").style.color="var(--bookmark-color)"}resetBookmarkStyles(links);return}if(event.key==="Backspace"){searchInput.value=searchInput.value.slice(0,-1);numberFind=0}else if(!event.ctrlKey){searchInput.value+=event.key}if(document.activeElement!==searchInput){searchInput.focus()}if(searchInput.value.length===0){resetBookmarkStyles(links)}numberFind=0;document.querySelectorAll(".on").forEach((elem=>elem.style.color=""));if(searchInput.value.length>0){root.style.setProperty("--bookmark-color","gray");links.forEach((link=>{if(link.textContent.toLowerCase().includes(searchInput.value.toLowerCase())){link.classList.add("on");link.style.position="";link.style.bottom="";link.style.opacity="";numberFind++}else{link.classList.remove("on");link.style.opacity="0.5"}const keywords=link.getAttribute("data-keywords");if(keywords&&keywords.toLowerCase().split(" ").includes(searchInput.value.toLowerCase())){link.style.opacity="";link.style.color="var(--hover-color)";keywordFound=true}else{link.style.color=""}}))}if(!keywordFound&&numberFind!==1&&document.querySelector(".on")){document.querySelector(".on").style.color=""}else if(numberFind==1&&!keywordFound){document.querySelector(".on").style.color="var(--hover-color)"}}))}));function initializeSearchSettings(){displaySearchPrefixes()}function displaySearchPrefixes(){const prefixesContainer=document.getElementById("search-prefixes-container");prefixesContainer.innerHTML="";const storedPrefixes=localStorage.getItem("searchPrefixes");const prefixes=storedPrefixes?JSON.parse(storedPrefixes):"";const addButton=document.createElement("button");addButton.textContent="Add Prefix";addButton.classList.add("add-prefix");addButton.addEventListener("click",addSearchPrefix);prefixesContainer.appendChild(addButton);Object.entries(prefixes).forEach((([prefix,url])=>{const prefixDisplay=document.createElement("div");prefixDisplay.classList.add("prefix-display");prefixDisplay.classList.add("individual-setting");const prefixText=document.createElement("div");prefixText.classList.add("prefix-text");prefixText.innerHTML=`<strong>-${prefix}:</strong>`;const buttonContainer=document.createElement("div");buttonContainer.classList.add("prefix-buttons");const editButton=document.createElement("button");editButton.textContent="Edit";editButton.classList.add("edit-prefix");editButton.addEventListener("click",(()=>editSearchPrefix(prefix,url)));const deleteButton=document.createElement("button");deleteButton.textContent="Delete";deleteButton.classList.add("delete-prefix");deleteButton.addEventListener("click",(()=>deleteSearchPrefix(prefix)));buttonContainer.appendChild(editButton);buttonContainer.appendChild(deleteButton);prefixDisplay.appendChild(prefixText);prefixDisplay.appendChild(buttonContainer);prefixesContainer.appendChild(prefixDisplay)}))}function addSearchPrefix(){const fields={Prefix:"","URL Template {query}":["","url"]};createForm(fields,(formData=>{const prefix=formData["Prefix"].toLowerCase().trim();const url=formData["URL Template {query}"].trim();if(prefix&&url){const prefixes=JSON.parse(localStorage.getItem("searchPrefixes")||"{}");prefixes[prefix]=url;localStorage.setItem("searchPrefixes",JSON.stringify(prefixes));displaySearchPrefixes()}}))}function editSearchPrefix(prefix,currentUrl){const fields={Prefix:prefix,"URL Template {query}":[currentUrl,"url"]};createForm(fields,(formData=>{const newPrefix=formData["Prefix"].toLowerCase().trim();const newUrl=formData["URL Template {query}"].trim();if(newPrefix&&newUrl){const prefixes=JSON.parse(localStorage.getItem("searchPrefixes")||"{}");if(newPrefix!==prefix){delete prefixes[prefix]}prefixes[newPrefix]=newUrl;localStorage.setItem("searchPrefixes",JSON.stringify(prefixes));displaySearchPrefixes()}}))}function deleteSearchPrefix(prefix){const prefixes=JSON.parse(localStorage.getItem("searchPrefixes")||"{}");delete prefixes[prefix];localStorage.setItem("searchPrefixes",JSON.stringify(prefixes));displaySearchPrefixes()}document.addEventListener("DOMContentLoaded",(()=>{const openIcon=document.getElementById("settings-icon");openIcon.addEventListener("click",openSettingsTab);document.addEventListener("keydown",(e=>{if(e.code=="Escape"){openSettingsTab()}}));initializeBookmarksSettings();initializeSearchSettings()}));function openSettingsTab(){const settings=document.querySelector(".settings");settings.classList.toggle("show")}document.addEventListener("DOMContentLoaded",(()=>{let interval;document.addEventListener("keydown",(function(event){if(event.key==="Enter"){if(searchInput.value.toLowerCase()=="stopwatch"){startStopwatch();searchInput.value="";return}}}));function startStopwatch(){const timeStuffContainer=document.querySelector(".time-stuff-container");const newTimerElement=document.createElement("div");newTimerElement.id="stopwatch";newTimerElement.classList.add("container-card");const timerText=document.createElement("p");newTimerElement.appendChild(timerText);timeStuffContainer.appendChild(newTimerElement);newTimerElement.addEventListener("click",(()=>{endStopwatch(newTimerElement)}));const startTime=Date.now();interval=setInterval((()=>{const elapsedTime=Date.now()-startTime;const seconds=Math.floor(elapsedTime/1e3%60);const minutes=Math.floor(elapsedTime/1e3/60%60);const hours=Math.floor(elapsedTime/1e3/60/60);let displayText="";if(hours>0)displayText+=`${hours}h `;if(minutes>0)displayText+=`${minutes}m `;displayText+=`${seconds}s`;timerText.innerHTML=displayText;console.log(displayText)}),100)}function endStopwatch(elem){clearInterval(interval);elem.style.animation="fadeOut 0.5s linear";setTimeout((()=>{elem.remove()}),500)}}));function getTime(){let date=new Date,min=date.getMinutes(),sec=date.getSeconds(),hour=date.getHours();setBackground(hour,min);return""+(hour<10?"0"+hour:hour)+":"+(min<10?"0"+min:min)+":"+(sec<10?"0"+sec:sec)}window.onload=()=>{setupBookmarks();document.getElementById("clock").innerHTML=getTime();setInterval((()=>{document.getElementById("clock").innerHTML=getTime()}),100)};function setBackground(hour,minutes){const isDawnTime=hour===18||hour===19;if(isDawnTime){document.documentElement.classList.add("dawn")}else{document.documentElement.classList.remove("dawn")}}let timerInterval;let keyUsed=false;const hoursElement=document.querySelector(".hours");const minutesElement=document.querySelector(".minutes");const secondsElement=document.querySelector(".seconds");document.addEventListener("DOMContentLoaded",(()=>{const timerContainer=document.querySelector(".timer-modal-container");const timerForm=document.querySelector(".timer-modal");const timeInput=document.getElementById("timeInput");initializeStoredTimer();setupEventListeners(timerContainer,timerForm,timeInput);const clock=document.querySelector("#clock");clock.addEventListener("click",(()=>{fadeInModal(timerContainer);timeInput.focus();resetModalDisplay(hoursElement,minutesElement,secondsElement)}))}));function initializeStoredTimer(){const storedTimer=localStorage.getItem("timer");if(storedTimer){const remainingTime=parseInt(storedTimer,10)-(new Date).getTime();if(remainingTime>0){startCountdownFromRemainingTime(remainingTime)}else{localStorage.removeItem("timer")}}}function startCountdownFromRemainingTime(remainingTime){startCountdown(Math.floor(remainingTime/36e5),Math.floor(remainingTime%36e5/6e4),Math.floor(remainingTime%6e4/1e3))}function setupEventListeners(timerContainer,timerForm,timeInput){timeInput.addEventListener("keyup",updateDisplay);timeInput.addEventListener("keydown",handleTimeInputKeyDown);timerForm.addEventListener("submit",(e=>{e.preventDefault();keyUsed=false;const timeParts=extractTimeParts(timeInput.value);startCountdown(timeParts.hours,timeParts.minutes,timeParts.seconds);fadeOutModal(timerContainer)}));document.addEventListener("keyup",(e=>{if(e.key==="Escape"&&timerContainer.style.display==="flex"){keyUsed=false;fadeOutModal(timerContainer)}}))}function resetModalDisplay(hoursElement,minutesElement,secondsElement){timeInput.value="05m 00s";hoursElement.textContent="00";minutesElement.textContent="05";secondsElement.textContent="00";minutesElement.classList.remove("inactive");hoursElement.classList.add("inactive")}function extractTimeParts(input){const timeParts=input.replace(/\D/g,"");let hours="",minutes="",seconds="";if(timeParts.length<=2){seconds=timeParts.padStart(2,"0")}else if(timeParts.length<=4){seconds=timeParts.slice(-2).padStart(2,"0");minutes=timeParts.slice(0,-2).padStart(2,"0")}else{seconds=timeParts.slice(-2).padStart(2,"0");minutes=timeParts.slice(-4,-2).padStart(2,"0");hours=timeParts.slice(0,-4).padStart(2,"0")}return{hours:hours,minutes:minutes,seconds:seconds}}function startCountdown(hours,minutes,seconds){hours=parseInt(hours,10)||0;minutes=parseInt(minutes,10)||0;seconds=parseInt(seconds,10)||0;clearExistingInterval();const countDownDate=calculateCountDownDate(hours,minutes,seconds);localStorage.setItem("timer",countDownDate);updateTimer(countDownDate);timerInterval=setInterval((()=>updateTimer(countDownDate)),1e3)}function calculateCountDownDate(hours,minutes,seconds){return(new Date).getTime()+(hours*3600+minutes*60+seconds)*1e3}function clearExistingInterval(){if(timerInterval!==undefined){clearInterval(timerInterval)}}function updateTimer(countDownDate){const now=(new Date).getTime();const distance=countDownDate-now;if(distance<1e3){stopTimer()}else{const{hours:hours,minutes:minutes,seconds:seconds}=calculateTimeComponents(distance);displayTime(hours,minutes,seconds)}}function calculateTimeComponents(distance){const hours=Math.floor(distance/(1e3*60*60));const minutes=Math.floor(distance%(1e3*60*60)/(1e3*60));const seconds=Math.floor(distance%(1e3*60)/1e3);return{hours:hours,minutes:minutes,seconds:seconds}}function displayTime(hours,minutes,seconds){let displayText="";if(hours>0)displayText+=`${hours}h `;if(minutes>0)displayText+=`${minutes}m `;displayText+=`${seconds}s`;const timerElement=document.querySelector("#timer p")||createTimerDisplayElement();timerElement.innerHTML=displayText}function createTimerDisplayElement(){const timeStuffContainer=document.querySelector(".time-stuff-container");const newTimerElement=document.createElement("div");newTimerElement.id="timer";newTimerElement.classList.add("container-card");const timerText=document.createElement("p");newTimerElement.appendChild(timerText);timeStuffContainer.appendChild(newTimerElement);newTimerElement.addEventListener("click",stopTimer);return timerText}function stopTimer(){clearInterval(timerInterval);localStorage.removeItem("timer");const timerElement=document.querySelector("#timer");if(timerElement){timerElement.remove()}playEndSound()}function playEndSound(){const audio=new Audio("./assets/Lego Yoda Death Sound.mp3");audio.play()}function handleTimeInputKeyDown(e){if(!keyUsed){keyUsed=true;timeInput.value=""}if(timeInput.value.length===6&&e.key!=="Backspace"&&e.key!=="Enter"){e.preventDefault()}}function updateDisplay(){const input=timeInput.value.replace(/\D/g,"");if(input.length>6)return;const{hours:hours,minutes:minutes,seconds:seconds}=extractTimeParts(input);updateDisplayElements(hours,minutes,seconds)}function updateDisplayElements(hours,minutes,seconds){hoursElement.textContent=hours||"00";minutesElement.textContent=minutes||"00";secondsElement.textContent=seconds||"00";minutesElement.classList.toggle("inactive",!minutes);hoursElement.classList.toggle("inactive",!hours)}function fadeOutModal(modal){modal.style.animation="fadeOut 0.3s forwards";setTimeout((()=>{modal.style.animation="";modal.style.display="none"}),300)}function fadeInModal(modal){modal.style.display="flex";modal.style.animation="fadeIn 0.3s forwards";setTimeout((()=>{modal.style.animation=""}),300)}